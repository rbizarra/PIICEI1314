<!DOCTYPE html>
<html>
<head>
    <title></title>
    <!--<link rel="stylesheet" title="alternative" type="text/css" href="homepage_theme_2.css"/>
    <link rel="shortcut icon" href="../resources/favicon.png">
    <script type="text/javascript" src="OpenLayers.js"></script>-->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>OpenLayers Vector Behavior Example</title>
    <link rel="stylesheet" href="http://openlayers.org/dev/theme/default/style.css" type="text/css">
    <link rel="stylesheet" href="http://openlayers.org/dev/examples/style.css" type="text/css">
    <script src="http://maps.google.com/maps/api/js?v=3.2&sensor=false"></script>
    <script src="http://www.openstreetmap.org/openlayers/OpenStreetMap.js"></script>
    <script src="http://openlayers.org/api/OpenLayers.js"></script>

    <script type="text/javascript">

        function init() {

            //OpenLayers.ProxyHost = "proxy.cgi?url=";

            // World Geodetic System 1984 projection
            var WGS84 = new OpenLayers.Projection("EPSG:4326");
            // WGS84 Google Mercator projection
            var WGS84_google_mercator = new OpenLayers.Projection("EPSG:900913");

            //Initialize the map
            //creates a new openlayers map in the <div> html element with id="map"
            var map = new OpenLayers.Map("map", {
                controls: [
                    //allows the user pan ability
                    new OpenLayers.Control.Navigation(),
                    //displays the pan/zoom tools
                    new OpenLayers.Control.PanZoom(),
                    //displays a layer switcher
                    new OpenLayers.Control.LayerSwitcher(),
                    //displays the mouse position's coordinates in a
                    //<div> html element with id="coordinates"
                    new OpenLayers.Control.MousePosition(
                            {div: document.getElementById("coordinates")})
                ],
                // WGS84 Google Mercator projection
                projection: WGS84_google_mercator,
                // World Geodetic System 1984 projection
                displayProjection: WGS84
            });

            // map extent -> initial coordinates
            var mapextent =
                //new OpenLayers.Bounds(-123.17341, 49.24343, -123.06183, 49.29899).transform(WGS84, WGS84_google_mercator);
                //new OpenLayers.Bounds(-74.14023, 40.62600, -73.79759, 40.88503).transform(WGS84, WGS84_google_mercator); //NY
                new OpenLayers.Bounds(143.62000, -43.91327, 149.11316, -39.82493).transform(WGS84, WGS84_google_mercator); //Tasmania
                //new OpenLayers.Bounds(-9.27273, 38.5882, -9.10141, 38.72121).transform(WGS84, WGS84_google_mercator); //margem sul

            //base layers -> the different options of visualization
            var openstreetmap = new OpenLayers.Layer.OSM();

            var google_maps = new OpenLayers.Layer.Google(
                    "Google Maps", {
                        numZoomLevels: 20
                    }
            );

            var google_satellite = new OpenLayers.Layer.Google(
                    "Google Satellite", {
                        type: google.maps.MapTypeId.SATELLITE,
                        numZoomLevels: 20
                    }
            );

            var aliasproj = new OpenLayers.Projection("EPSG:3857");
            openstreetmap.projection = google_maps.projection = google_satellite.projection = aliasproj;

            //wfs-t editable overlay
//            var wfs_layer = new OpenLayers.Layer.Vector("WFS Layer", {
//                //projection: new OpenLayers.Projection("EPSG:26910"),
//                protocol: new OpenLayers.Protocol.WFS({
//                    version: "1.1.0",
//                    // loading data through localhost url path
//                    url: "http://localhost:9991/geoserver/wfs",
//                    //featureNS: "http://www.opengeospatial.net/cite",
//                    maxExtent: mapextent,
//                    // layer name
//                    featureType: "tiger_roads",
//                    // geometry column name
//                    geometryName: "the_geom",
//                    schema: "http://localhost:9991/geoserver/wfs/DescribeFeatureType?version=1.1.0&typename=cite:tiger_roads"
//                })
//            });


//            var wfs_layer = new OpenLayers.Layer.Vector("Fields_WFS", {
//                strategies : [new OpenLayers.Strategy.Fixed()],
//                protocol : new OpenLayers.Protocol.WFS({
//                    version : "1.1.0",
//                    url : "http://localhost:9991/geoserver/wfs",
//                    featurePrefix : "myc_roads",
//                    featureType : "nyc_roads"
//                    //featureNS : "<namespace>",
//                    //geometryName : "GEOM", type "Geometry"
//                    //srsName : "EPSG:27700"
//                })
//                //renderers : renderer
//            });

//            var wfs_layer = new OpenLayers.Layer.Vector("Fields_WFS", {
//                strategies: [new OpenLayers.Strategy.Fixed()],
//                protocol: new OpenLayers.Protocol.WFS({
//                    version: "1.1.0",
//                    url: "http://localhost:9991/geoserver/wfs",
//                    featurePrefix: "myc_roads",
//                    featureType: "nyc_roads",
//                    featureNS: "http://opengeo.org/nyc_roads",
//                    geometryName: "the_geom",
//                    srsName: "EPSG:4326"
//                })
//                //renderers : renderer
//            });

            //display layer using WMS
//            var wms = new OpenLayers.Layer.WMS('New York Stuff',
//                    'http://localhost:9991/geoserver/nyc_roads/wms',
//                    {'layers': 'nyc_roads:nyc_roads',
//                        isBaseLayer: false, 'transparent': true} //This part was required!
//            );





            //***********************TASMANIA*****************************
            //WMS funciona mesmo com 2 layers, falta WFS

//            var wms1 = new OpenLayers.Layer.WMS('Tasmania - Water',
//                    'http://localhost:9991/geoserver/topp/wms',
//                    {'layers': 'topp:tasmania_water_bodies',
//                        isBaseLayer: false, 'transparent': true} //This part was required!
//            );
//
//            var wms2 = new OpenLayers.Layer.WMS('Tasmania - Roads',
//                    'http://localhost:9991/geoserver/topp/wms',
//                    {'layers': 'topp:tasmania_roads',
//                        isBaseLayer: false, 'transparent': true} //This part was required!
//            );
//            map.addLayer(wms1);
//            map.addLayer(wms2);


            var wfs_layer = new OpenLayers.Layer.Vector("WFS Tasmania", {
                strategies: [new OpenLayers.Strategy.Fixed()],
                protocol: new OpenLayers.Protocol.WFS({
                    version: "1.1.0",
                    url: "http://localhost:9991/geoserver/wfs",
                    featurePrefix: "topp",
                    featureType: "tasmania_water_bodies",
                    featureNS: " http://www.openplans.org/topp",
                    geometryName: "the_geom",
                    srsName: "EPSG:4326"
                })
                //renderers : renderer
            });






            map.addLayers([openstreetmap, google_maps, google_satellite, wfs_layer]);
//            map.addLayers([openstreetmap, google_maps, google_satellite, wms1, wms2]);
            map.zoomToExtent(mapextent);
        };

    </script>

</head>
<body onload="init()">
<div id="map" style="width:500px; height:500px;"></div>
<div id="coordinates"></div>
<div id="nodelist"></div>
</body>
</html>